<!-- <!DOCTYPE html>

<!-- Referenced as an example from by rabidGadfly.com -->
<!-- http://rabidgadfly.com/2013/02/angular-and-xml-no-problem/ -->

<!-- Define this as an AngularJS app that uses the module named myApp -->
<html ng-app="LiveXML">

<head>
    <!-- Don't forget to load angularjs --> 
    <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.0.4/angular.min.js"></script>
    <!-- Load the converted script -->
    <script src="xml2json.js"></script>
    <!-- Our modules and controller -->
    <script src="module.js"></script>
    <!-- Give it some style -->
    <link rel="stylesheet" href="style.css">
</head>

<body ng-app="LiveXML">
   
  <div ng-controller="AppController">
     <ol>
      <li ng-repeat="action in actions"> 
        <!-- TODO: CHECK INDENTAIN LEVEL: DONT GET ACTIONS.ACTIONID, 
        GET ACTIONS.ACTION.ACTIONID -->
        {{action.action.actionId}}
        </li>
  </div>
</body>
<script>
        var LiveXML = angular.module('LiveXML',[]);
        
        LiveXML.factory('actionFactory',function($http){
          var factory = [];
          
          factory.getActions = function(){
            return $http.get("actions.xml");
          }
        
            return factory;
        });
        
        LiveXML.controller('AppController',function($scope,actionFactory){
          
          $scope.actions = [];
          loadActions();
          
          function loadActions(){
            var x2js = new X2JS();
            actionFactory.getActions().success(function(data){
                actions  = x2js.xml_str2json(data);
                console.log(actions.actionId);
                $scope.actions = actions;
            });
            }
        });
</script>

</html>
